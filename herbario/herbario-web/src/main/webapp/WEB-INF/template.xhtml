<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>


	<title>Herbario UQ</title>
	<link rel="icon" href="resources/favicon.ico"></link>
	<meta name="viewport"
		content="width=device-width, initial-scale=1, shrink-to-fit=no"></meta>
	<meta name="description" content="au theme template"></meta>
	<meta name="author" content="Hau Nguyen"></meta>
	<meta name="keywords" content="au theme template"></meta>

	<!-- Fontfaces CSS-->
	<link href="resources/css/font-face.css" rel="stylesheet" media="all"></link>
	<link href="resources/vendor/font-awesome-4.7/css/font-awesome.min.css"
		rel="stylesheet" media="all"></link>
	<link
		href="resources/vendor/font-awesome-5/css/fontawesome-all.min.css"
		rel="stylesheet" media="all"></link>
	<link
		href="resources/vendor/mdi-font/css/material-design-iconic-font.min.css"
		rel="stylesheet" media="all"></link>

	<!-- Bootstrap CSS-->
	<link href="resources/vendor/bootstrap-4.1/bootstrap.min.css"
		rel="stylesheet" media="all"></link>

	<!-- Vendor CSS-->
	<link href="resources/vendor/animsition/animsition.min.css"
		rel="stylesheet" media="all"></link>
	<link
		href="resources/vendor/bootstrap-progressbar/bootstrap-progressbar-3.3.4.min.css"
		rel="stylesheet" media="all"></link>
	<link href="resources/vendor/wow/animate.css" rel="stylesheet"
		media="all"></link>
	<link href="resources/vendor/css-hamburgers/hamburgers.min.css"
		rel="stylesheet" media="all"></link>
	<link href="resources/vendor/slick/slick.css" rel="stylesheet"
		media="all"></link>
	<link href="resources/vendor/select2/select2.min.css" rel="stylesheet"
		media="all"></link>
	<link href="resources/vendor/perfect-scrollbar/perfect-scrollbar.css"
		rel="stylesheet" media="all"></link>

	<!-- Main CSS-->
	<link href="resources/css/theme.css" rel="stylesheet" media="all"></link>

</h:head>
<h:body>
	<ui:insert name="login">
		<h:panelGroup rendered="#{!seguridadBean.autenticado}">

			<div class="page-wrapper">
				<div class="page-content--bge5">
					<div class="container">
						<div class="login-wrap">
							<div class="login-content">
								<div class="login-logo">
									<a href="#"> <img src="resources/logoHerbario.png"
										alt="CoolAdmin" width="200" height="100"></img>
									</a>
								</div>
								<div class="login-form">
									<h:form>
										<div class="form-group">
											<label for="email">Email:</label>
											<h:inputText class="au-input au-input--full" id="email"
												value="#{seguridadBean.persona.email}" />
										</div>
										<div class="form-group">

											<label for="contrasenia">Contrase単a:</label>
											<h:inputSecret class="au-input au-input--full"
												id="contrasenia" value="#{seguridadBean.persona.password}" />
										</div>
										<div class="login-checkbox">

											<label> <h:link outcome="/admin/contenido_recolector">Olvide mi contrase単a</h:link>
											</label>
										</div>
										<h:commandButton
											class="au-btn au-btn--block au-btn--green m-b-20"
											action="#{seguridadBean.iniciarSesion}" value="Ingresar" />


									</h:form>
									<h:form>
										<p>
											多No tienes cuenta?
											<h:commandLink action="admin/registrar_persona"
												value="registrate aqui" />

										</p>
									</h:form>
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>
		</h:panelGroup>



	</ui:insert>
	
	<h:panelGroup rendered="#{seguridadBean.autenticado}">
		<ui:insert name="menu">
		
<div class="header-desktop3 d-none d-lg-block">
			<div class="section__content section__content--p35">
				<div class="header3-wrap">
					<div class="header__logo">
						<a href="#"> <img src="resources/images/icon/logo-mini.png" />
						</a>
					</div>
					<div class="header__navbar">
						<ul class="list-unstyled">

							<li class="has-sub"><a href="#"> <i class="fas fa-leaf"></i>
									<span class="bot-line"></span>Especie
							</a>
								<ul class="header3-sub-list list-unstyled">
									<li><h:form>

											<h:commandLink action="/admin/registro_especie?faces-redirect=true"
												value="Nuevo Registro" />
										</h:form></li>


								</ul></li>
							<ui:insert name="actividadRecolector">	
							<li class="has-sub"><a href="#"> <i
									class="fas fa-desktop"></i> <span class="bot-line"></span>Mi
									Actividad
							</a>
								<ul class="header3-sub-list list-unstyled">
									<li><h:form>

											<h:commandLink action="#{recolectorBean.listarRegistros(0)}"
												value="Lista de Registros"/>
										</h:form></li>
										<li><h:form>

											<h:commandLink action="#{recolectorBean.listarRegistros(1)}"
												value="Lista de Registros Aceptados" />
										</h:form></li>
										
										<li><h:form>

											<h:commandLink action="#{recolectorBean.listarRegistros(2)}"
												value="Registros Aceptados Por Familia" />
										</h:form></li>
										<li><h:form>

											<h:commandLink action="#{recolectorBean.listarRegistros(3)}"
												value="Registros Aceptados Por Genero" />
										</h:form></li>


								</ul></li>
								</ui:insert>

							<li class="has-sub"><a href="#"> <i class="fas fa-user"></i>
									<span class="bot-line"></span>
								<h:outputLabel value="#{recolectorBean.recolector.nombre}" /></a>
								<ul class="header3-sub-list list-unstyled">
									<li><a href="button.html">Actualizar mi Informacion</a></li>
									<li><a href="badge.html">Cerrar sesion</a></li>

								</ul></li>
						</ul>
					</div>
				</div>
			</div>
		</div>

		<h:panelGroup rendered="#{recolectorBean.flagListarRegistros}">

			<div class="main-content">
			
			
		
			
				<center>
					<h2><p:outputLabel   value="#{recolectorBean.tituloTabla}"/></h2>
				</center>
				
					<center>
			<h:form>
				<br></br>
			<p:panelGrid columns="2" border="1" rendered="#{recolectorBean.flagSelectorF}">
				
				<p:selectOneMenu value="#{recolectorBean.familiaTemp}"  converter="selectItemObjectConverter" effect="fade" filter="true" filterMatchMode="startsWith">
					<f:selectItem itemLabel="Seleccione una familia" noSelectionOption="true"/>
					<f:selectItems value="#{generoBean.familias}"/>
				</p:selectOneMenu>
				<p:commandButton action="#{recolectorBean.listarRegistros(2)}" value="Filtrar" ajax="false"/>		
			</p:panelGrid>
		</h:form>
			</center>
						<center>
			<h:form>
				<br></br>
			<p:panelGrid columns="2" border="1" rendered="#{recolectorBean.flagSelectorG}">
				
				<p:selectOneMenu value="#{recolectorBean.generoTemp}"  converter="selectItemObjectConverter" effect="fade" filter="true" filterMatchMode="startsWith">
					<f:selectItem itemLabel="Seleccione un genero" noSelectionOption="true"/>
					<f:selectItems value="#{generoBean.generos}"/>
				</p:selectOneMenu>
				<p:commandButton action="#{recolectorBean.listarRegistros(3)}" value="Filtrar" ajax="false"/>		
			</p:panelGrid>
		</h:form>
			</center>
			
			
				<br></br>
				<div class="section__content section__content--p30">
					<div class="container-fluid">
						<div class="row">
							<div class="col-lg-12">
								<div class="table-responsive table--no-card m-b-30">
									<p:dataTable value="#{recolectorBean.misRegistros}" var="r"
										class="table table-borderless table-striped table-earning">

										<p:column>
											<f:facet name="header">Id</f:facet>
											<h:outputText value="#{r.idRegistro}" />
										</p:column>
										<p:column>
											<f:facet name="header">Fecha</f:facet>
											<h:outputText value="#{r.fecha}" />
										</p:column>
											<p:column>
											<f:facet name="header">Especie</f:facet>
											<h:outputText value="#{r.nombreEspecie}" />
										</p:column>
										<p:column>
											<f:facet name="header">Estado</f:facet>
											<h:outputText value="#{r.estado}" />
										</p:column>
										<p:column>
											<f:facet name="header">Mensaje</f:facet>
											<h:commandLink value="Ver mensaje"
												action="#{recolectorBean.listarRegistros}" />
										</p:column>


									</p:dataTable>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

		</h:panelGroup>

		<h:panelGroup rendered="#{recolectorBean.flagListarFamilias}">
			<div class="main-content">
				<div class="section__content section__content--p30">
					<div class="container-fluid">
						<div class="row">
							<div class="col-lg-12">
								<div class="table-responsive table--no-card m-b-30">
									<p:dataTable value="#{recolectorBean.familias}" var="f"
										class="table table-borderless table-striped table-earning">
										<p:column>
											<f:facet name="header">Id</f:facet>
											<h:outputText value="#{f.idFamilia}" />
										</p:column>
										<p:column>
											<f:facet name="header">nombre</f:facet>
											<h:outputText value="#{f.nombre}" />
										</p:column>
									</p:dataTable>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</h:panelGroup>
	</ui:insert>
	</h:panelGroup>
	
		<ui:insert name="contenido">

		<h:panelGroup rendered="#{seguridadBean.autenticado}">
			<h:form>
				<p>
					多redirect?
					<h:commandLink action="admin/registro_especie" value="re" id="r" />

				</p>
			</h:form>
		</h:panelGroup>
	</ui:insert>
	
	<ui:insert name="registroEspecie">
	<h:panelGroup rendered="#{recolectorBean.flagRegistro}">
		<div class="main-content">
			<div class="section__content section__content--p30">
				<div class="container">
					<div class="card">
						<div class="card-header">
							<center><h2>Formulario para Registro de Especies</h2></center>
						</div>
						<div class="card-body">

							<div class="login-wrap">
								<div class="login-content">
									<div class="login-logo"></div>
									<div class="login-form">
										<h:form >
											<div class="form-group">
												<h:outputLabel value="Nombre  de la Especie"/>
												<p:inputText class="au-input au-input--full"
													value="#{registroBean.nombreEspecie}" />
											</div>

											<div class="form-group">
												<label>Familia a la que pertenece</label>
												<p:inputText class="au-input au-input--full"
													value="#{registroBean.nombreFamilia}" />
											</div>
											<div class="form-group">
												<label>Genero al que pertenece</label>
												<p:inputText class="au-input au-input--full"
													value="#{registroBean.nombreGenero}" />
											</div>
									
									   			<div class="row form-group">
                                                <div class="col col-md-3">
                                                    <label for="file-input" class=" form-control-label">Debe anexar una Imagen:</label>
                                                </div>
                                                <div class="col-12 col-md-9">
                                                    <h:inputFile  class="form-control-file" />
                                                </div>
                                            </div>
										
									
									<h:form>
									<h:commandButton
											class="au-btn au-btn--block au-btn--green m-b-20"
											action="#{registroBean.nuevoRegistro}" value="Realizar Registro" />


									</h:form>
									</h:form>

								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		</div>
	</h:panelGroup>
	</ui:insert>
	

	<!-- Jquery JS-->
	<script src="vendor/jquery-3.2.1.min.js"></script>
	<!-- Bootstrap JS-->
	<script src="vendor/bootstrap-4.1/popper.min.js"></script>
	<script src="vendor/bootstrap-4.1/bootstrap.min.js"></script>
	<!-- Vendor JS       -->
	<script src="vendor/slick/slick.min.js">
		
	</script>
	<script src="vendor/wow/wow.min.js"></script>
	<script src="vendor/animsition/animsition.min.js"></script>
	<script src="vendor/bootstrap-progressbar/bootstrap-progressbar.min.js">
		
	</script>
	<script src="vendor/counter-up/jquery.waypoints.min.js"></script>
	<script src="vendor/counter-up/jquery.counterup.min.js">
		
	</script>
	<script src="vendor/circle-progress/circle-progress.min.js"></script>
	<script src="vendor/perfect-scrollbar/perfect-scrollbar.js"></script>
	<script src="vendor/chartjs/Chart.bundle.min.js"></script>
	<script src="vendor/select2/select2.min.js">
		
	</script>

	<!-- Main JS-->
	<script src="js/main.js"></script>
</h:body>
</html>
