<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/WEB-INF/template.xhtml">


	<ui:define name="contenido">
		<div class="header-desktop3 d-none d-lg-block">
			<div class="section__content section__content--p35">
				<div class="header3-wrap">
					<div class="header__logo">
						<a href="#"> <img src="resources/images/icon/logo-mini.png" />
						</a>
					</div>
					<div class="header__navbar">
						<ul class="list-unstyled">

							<li class="has-sub"><a href="#"> <i class="fas fa-leaf"></i>
									<span class="bot-line"></span>Especie
							</a>
								<ul class="header3-sub-list list-unstyled">
									<li><h:form>

											<h:commandLink action="#{recolectorBean.realizarNuevoRegistro}"
												value="Nuevo Registro" />
										</h:form></li>


								</ul></li>
							<li class="has-sub"><a href="#"> <i
									class="fas fa-desktop"></i> <span class="bot-line"></span>Mi
									Actividad
							</a>
								<ul class="header3-sub-list list-unstyled">
									<li><h:form>

											<h:commandLink action="#{recolectorBean.listarRegistros(0)}"
												value="Lista de Registros" />
										</h:form></li>
										<li><h:form>

											<h:commandLink action="#{recolectorBean.listarRegistros(1)}"
												value="Lista de Registros Aceptados" />
										</h:form></li>
										
										<li><h:form>

											<h:commandLink action="#{recolectorBean.listarRegistros(2)}"
												value="Registros Aceptados Por Familia" />
										</h:form></li>
										<li><h:form>

											<h:commandLink action="#{recolectorBean.listarRegistros(3)}"
												value="Registros Aceptados Por Genero" />
										</h:form></li>


								</ul></li>

							<li class="has-sub"><a href="#"> <i class="fas fa-user"></i>
									<span class="bot-line"></span>
								<h:outputLabel value="#{recolectorBean.recolector.nombre}" /></a>
								<ul class="header3-sub-list list-unstyled">
									<li><a href="button.html">Actualizar mi Informacion</a></li>
									<li><a href="badge.html">Cerrar sesion</a></li>

								</ul></li>
						</ul>
					</div>
				</div>
			</div>
		</div>

		<h:panelGroup rendered="#{recolectorBean.flagListarRegistros}">

			<div class="main-content">
			
			
		
			
				<center>
					<h2><p:outputLabel   value="#{recolectorBean.tituloTabla}"/></h2>
				</center>
				
					<center>
			<h:form>
				<br></br>
			<p:panelGrid columns="2" border="1" rendered="#{recolectorBean.flagSelectorF}">
				
				<p:selectOneMenu value="#{recolectorBean.familiaTemp}"  converter="selectItemObjectConverter" effect="fade" filter="true" filterMatchMode="startsWith">
					<f:selectItem itemLabel="Seleccione una familia" noSelectionOption="true"/>
					<f:selectItems value="#{generoBean.familias}"/>
				</p:selectOneMenu>
				<p:commandButton action="#{recolectorBean.listarRegistros(2)}" value="Filtrar" ajax="false"/>		
			</p:panelGrid>
		</h:form>
			</center>
						<center>
			<h:form>
				<br></br>
			<p:panelGrid columns="2" border="1" rendered="#{recolectorBean.flagSelectorG}">
				
				<p:selectOneMenu value="#{recolectorBean.generoTemp}"  converter="selectItemObjectConverter" effect="fade" filter="true" filterMatchMode="startsWith">
					<f:selectItem itemLabel="Seleccione un genero" noSelectionOption="true"/>
					<f:selectItems value="#{generoBean.generos}"/>
				</p:selectOneMenu>
				<p:commandButton action="#{recolectorBean.listarRegistros(3)}" value="Filtrar" ajax="false"/>		
			</p:panelGrid>
		</h:form>
			</center>
			
			
				<br></br>
				<div class="section__content section__content--p30">
					<div class="container-fluid">
						<div class="row">
							<div class="col-lg-12">
								<div class="table-responsive table--no-card m-b-30">
									<p:dataTable value="#{recolectorBean.misRegistros}" var="r"
										class="table table-borderless table-striped table-earning">

										<p:column>
											<f:facet name="header">Id</f:facet>
											<h:outputText value="#{r.idRegistro}" />
										</p:column>
										<p:column>
											<f:facet name="header">Fecha</f:facet>
											<h:outputText value="#{r.fecha}" />
										</p:column>
											<p:column>
											<f:facet name="header">Especie</f:facet>
											<h:outputText value="#{r.nombreEspecie}" />
										</p:column>
										<p:column>
											<f:facet name="header">Estado</f:facet>
											<h:outputText value="#{r.estado}" />
										</p:column>
										<p:column>
											<f:facet name="header">Mensaje</f:facet>
											<h:commandLink value="Ver mensaje"
												action="#{recolectorBean.listarRegistros}" />
										</p:column>


									</p:dataTable>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

		</h:panelGroup>

		<h:panelGroup rendered="#{recolectorBean.flagListarFamilias}">
			<div class="main-content">
				<div class="section__content section__content--p30">
					<div class="container-fluid">
						<div class="row">
							<div class="col-lg-12">
								<div class="table-responsive table--no-card m-b-30">
									<p:dataTable value="#{recolectorBean.familias}" var="f"
										class="table table-borderless table-striped table-earning">
										<p:column>
											<f:facet name="header">Id</f:facet>
											<h:outputText value="#{f.idFamilia}" />
										</p:column>
										<p:column>
											<f:facet name="header">nombre</f:facet>
											<h:outputText value="#{f.nombre}" />
										</p:column>
									</p:dataTable>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</h:panelGroup>

	</ui:define>

</ui:composition>
</html>
